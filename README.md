# Twilio Messenger

A simple C# application for sending promotional SMS and WhatsApp messages to opted-in users.


## Disclaimer
This application was 100% vibe coded with use of the Claude coding agent. The experiment was just to consider how quick it would be to have the agent create a simple application. This application uses Twilio APIs as detailed below. 

The application does not store contact information in a secure database, instead using a 'contacts.json' file that is stored locally. It should not be considered a secure or production-ready solution, but is a getting-started prototype. For security reasons, 'TwilioMessenger.Web/Data/contacts.json' should be added to .gitignore - this version 
contains a blank version of that file so the application will run.

The rest of the information including the rest of this README file was generated by Claude.

## Features

- Send promotional messages to users via SMS and WhatsApp
- Manage contacts in a simple local database
- User-friendly web dashboard for non-technical users
- Support for bulk messaging to all contacts or specific groups

## Prerequisites

- .NET 9.0 SDK or later
- A Twilio account with SMS and WhatsApp capabilities
- A Twilio phone number enabled for SMS
- A Twilio phone number or Sandbox enabled for WhatsApp

## Setup

1. Clone this repository:
   ```
   git clone https://github.com/yourusername/twilio-messenger.git
   cd twilio-messenger
   ```

2. Update the Twilio settings in `TwilioMessenger.Web/appsettings.json`:
   ```json
   "TwilioSettings": {
     "AccountSid": "your_account_sid_here",
     "AuthToken": "your_auth_token_here",
     "FromPhoneNumber": "your_twilio_phone_number",
     "WhatsAppFromPhoneNumber": "your_twilio_whatsapp_number"
   }
   ```

   - Replace `your_account_sid_here` with your Twilio Account SID
   - Replace `your_auth_token_here` with your Twilio Auth Token
   - Replace `your_twilio_phone_number` with your Twilio phone number (format: +12345678901)
   - Replace `your_twilio_whatsapp_number` with your Twilio WhatsApp number (format: +12345678901)

3. Build and run the application:
   ```
   dotnet build
   cd TwilioMessenger.Web
   dotnet run
   ```

4. Navigate to `https://localhost:7000` or `http://localhost:5000` in your browser to access the dashboard.

## Usage

### Dashboard

The dashboard provides an overview of your contacts and quick access to the main features of the application.

### Managing Contacts

1. **View Contacts**: Click "Manage Contacts" on the dashboard to see all your contacts.
2. **Add a Contact**: 
   - Click "Add New Contact" on the contacts page
   - Enter the contact's name and phone number (in E.164 format, e.g., +12345678901)
   - Select the contact type (SMS or WhatsApp)
   - Check "Opted In" if the user has consented to receive messages
   - Click "Create" to save the contact

3. **Edit a Contact**: Click the "Edit" button next to a contact to update their information.
4. **Delete a Contact**: Click the "Delete" button next to a contact to remove them from your database.

### Sending Messages

1. Click "Send Messages" on the dashboard.
2. Choose recipients:
   - All Contacts: Send to all opted-in users (both SMS and WhatsApp)
   - SMS Contacts Only: Send to all opted-in SMS users
   - WhatsApp Contacts Only: Send to all opted-in WhatsApp users
   - Specific Recipient: Send to a single contact (select from dropdown)
3. Type your message in the text box (limit: 1600 characters).
4. Click "Send Message" to send your promotional content.
5. View the results of your message delivery on the same page.

## Contact Storage

All contacts are stored locally in a JSON file at `TwilioMessenger.Web/Data/contacts.json`. This file is created automatically the first time you run the application.

## WhatsApp Limitations

For WhatsApp messaging, please be aware of the following:

1. For sandbox accounts, recipients must first send a message to your WhatsApp number with the code "join [sandbox-specific-word]" to opt in.
2. After 24 hours of inactivity, you can only send template messages to users until they respond.
3. Message templates must be pre-approved by WhatsApp.

## License

This project is licensed under the MIT License - see the LICENSE file for details.